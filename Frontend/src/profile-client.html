<!DOCTYPE html>
<html lang="en">
<style>
 #jobsContainer {
  width: 100%;
  padding: 0;
  margin: 0 auto; /* Center the container */
}

#jobsContainer > div {
  width: 100%; /* Ensure cards are full width */
  max-width: none; /* Remove any width constraints */
}


</style>
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>
    Company Details
  </title>
  
</head>

<body
  x-data="{ page: 'company-details', loaded: true, darkMode: true, stickyMenu: false, sidebarToggle: false, scrollTop: false, showJobs: false }"
  x-init="

      darkMode = JSON.parse(localStorage.getItem('darkMode'));
      $watch('darkMode', value => localStorage.setItem('darkMode', JSON.stringify(value)))"
  :class="{'dark text-bodydark bg-boxdark-2': darkMode === true}">

  <!-- ===== Preloader Start ===== -->
  <include src="./partials/preloader.html"></include>
  <!-- ===== Preloader End ===== -->

  <!-- ===== Page Wrapper Start ===== -->
  <div class="flex h-screen overflow-hidden">
    <!-- ===== Sidebar Start ===== -->
    <include src="./partials/sidebar.html"></include>
    <!-- ===== Sidebar End ===== -->

    <!-- ===== Content Area Start ===== -->
    <div class="relative flex flex-1 flex-col overflow-y-auto overflow-x-hidden">
      <!-- Header Start -->
      <include src="./partials/header.html" />
      <header class="bg-white dark:bg-boxdark p-4 shadow-md">
        <div class="container mx-auto flex items-center justify-between">
          <h1 class="text-xl font-bold text-black dark:text-white">Company Details</h1>
        </div>
      </header>
      <!-- Header End -->

      <!-- Main Content Start -->
      <main class="p-4 md:p-6">
        <!-- Navigation Tabs and Add Job Button Start -->
        <div class="mb-4 flex items-center justify-between">
          <!-- Navigation Tabs -->
          <div class="flex space-x-4">
            <button @click="showJobs = false; load_Client()" class="px-4 py-2 font-semibold rounded-lg"
              :class="{'text-primary border-b-2 border-primary': !showJobs, 'text-gray-600 dark:text-gray-400': showJobs}">Client</button>
            <button @click="showJobs = !showJobs; load_Jobs()" class="px-4 py-2 font-semibold rounded-lg"
              :class="{'text-primary border-b-2 border-primary': showJobs, 'text-gray-600 dark:text-gray-400': !showJobs}">Jobs</button>
          </div>

          <!-- Add Job Button -->
          <div class="ml-auto" x-show="!showJobs">
            <a href="form-layout-job.html"
              class="inline-flex items-center justify-center gap-2.5 rounded-full border border-primary px-10 py-4 text-center font-medium text-primary hover:bg-opacity-90 lg:px-8 xl:px-10">
              <span>
                <!-- Briefcase SVG icon -->
                <svg class="fill-current w-6 h-6" width="20" height="20" viewBox="0 0 24 24" fill="none"
                  xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M20 4H4C2.89 4 2 4.89 2 6V18C2 19.11 2.89 20 4 20H20C21.11 20 22 19.11 22 18V6C22 4.89 21.11 4 20 4ZM20 6V18H4V6H20ZM10 8H14V10H10V8ZM10 12H14V14H10V12ZM6 16H18V18H6V16Z"
                    fill="currentColor" />
                </svg>
              </span>
              Add Job Offre
            </a>
          </div>
        </div>
        <!-- Navigation Tabs and Add Job Button End -->

        <!-- Navigation Bar for Company Details Start -->
        <div x-show="!showJobs"
          class="candidate-navbar-container py-4 bg-gray-100 dark:bg-gray-800 rounded-lg shadow-md">
          <!-- Company Title -->
          <!-- Company Navbar -->
          <div class="candidate-navbar">
            <button class="nav-button" aria-current="page">
              <span class="text-sm font-medium">Date Added</span>
              <span id="added-date-btn"
                class="ml-2 bg-green-100 text-green-800 px-2 py-0.5 rounded-full text-xs font-semibold">2024-08-16</span>
            </button>
            <button class="nav-button">
              <span class="text-sm font-medium">Status</span>
              <span id="status-btn"
                class="ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-semibold">Prospect</span>
            </button>
            <button class="nav-button">
              <span class="text-sm font-medium">Engagement type</span>
              <span id="egagement-type-btn"
                class="ml-2 bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full text-xs font-semibold">Prospect</span>
            </button>
            <button class="nav-button">
              <span class="text-sm font-medium">Account Manager</span>
              <span id="key-account-manager-btn"
                class="ml-2 bg-red-100 text-red-800 px-2 py-0.5 rounded-full text-xs font-semibold">Jane
                Smith</span>
            </button>
          </div>
        </div>
        <!-- Navigation Bar for Company Details End -->

        <!-- Content Grid Start -->
        <div class="grid grid-cols-1 gap-4 md:grid-cols-2">
          <!-- Client Details Start -->
          <div x-show="!showJobs" class="bg-white dark:bg-boxdark border border-stroke rounded-lg shadow-sm"
            id="clientDetails">
            <div class="p-4 relative">
              <div id="iconsClient">
                <!-- Update Icon -->
                <a href="javascript:void(0)"
                  class="absolute top-4 right-24 text-blue-500 hover:text-blue-700 transition" id="updateClientIcon">
                  <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"
                    xmlns="http://www.w3.org/2000/svg">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                      d="M13.828 4.172a4 4 0 015.656 5.656L8 19H4v-4L13.828 4.172z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 14l2 2 2-2-2-2-2 2z">
                    </path>
                  </svg>
                </a>
              </div>
              <!-- Client Profile Section -->
              <div class="flex items-center gap-4">
                <div class="relative drop-shadow-2">
                  <div class="w-24 h-24 sm:w-32 sm:h-32 lg:w-28 lg:h-28">
                    <img id="profileImage" src="./images/user/client.png" alt="Profile Photo"
                      class="w-24 h-24 rounded-full border border-gray-300 dark:border-gray-700">
                  </div>
                  <label for="profile"
                    class="absolute bottom-0 right-0 flex h-8 w-8 cursor-pointer items-center justify-center rounded-full bg-primary text-white hover:bg-opacity-90 sm:bottom-2 sm:right-2">
                    <svg class="fill-current" width="14" height="14" viewBox="0 0 14 14" fill="none"
                      xmlns="http://www.w3.org/2000/svg">
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M4.76464 1.42638C4.87283 1.2641 5.05496 1.16663 5.25 1.16663H8.75C8.94504 1.16663 9.12717 1.2641 9.23536 1.42638L10.2289 2.91663H12.25C12.7141 2.91663 13.1592 3.101 13.4874 3.42919C13.8156 3.75738 14 4.2025 14 4.66663V11.0833C14 11.5474 13.8156 11.9925 13.4874 12.3207C13.1592 12.6489 12.7141 12.8333 12.25 12.8333H1.75C1.28587 12.8333 0.840752 12.6489 0.512563 12.3207C0.184375 11.9925 0 11.5474 0 11.0833V4.66663C0 4.2025 0.184374 3.75738 0.512563 3.42919C0.840752 3.101 1.28587 2.91663 1.75 2.91663H3.77114L4.76464 1.42638ZM5.56219 2.33329L4.5687 3.82353C4.46051 3.98582 4.27837 4.08329 4.08333 4.08329H1.75C1.59529 4.08329 1.44692 4.14475 1.33752 4.25415C1.22812 4.36354 1.16667 4.51192 1.16667 4.66663V11.0833C1.16667 11.238 1.22812 11.3864 1.33752 11.4958C1.44692 11.6052 1.59529 11.6666 1.75 11.6666H12.25C12.4047 11.6666 12.5531 11.6052 12.6625 11.4958C12.7719 11.3864 12.8333 11.238 12.8333 11.0833V4.66663C12.8333 4.51192 12.7719 4.36354 12.6625 4.25415C12.5531 4.14475 12.4047 4.08329 12.25 4.08329H9.91667C9.72163 4.08329 9.53949 3.98582 9.4313 3.82353L8.43781 2.33329H5.56219Z"
                        fill="" />
                      <path fill-rule="evenodd" clip-rule="evenodd"
                        d="M7.00004 5.83329C6.03354 5.83329 5.25004 6.61679 5.25004 7.58329C5.25004 8.54979 6.03354 9.33329 7.00004 9.33329C7.96654 9.33329 8.75004 8.54979 8.75004 7.58329C8.75004 6.61679 7.96654 5.83329 7.00004 5.83329ZM4.08337 7.58329C4.08337 5.97246 5.38921 4.66663 7.00004 4.66663C8.61087 4.66663 9.91671 5.97246 9.91671 7.58329C9.91671 9.19412 8.61087 10.5 7.00004 10.5C5.38921 10.5 4.08337 9.19412 4.08337 7.58329Z"
                        fill="" />
                    </svg>
                    <input type="file" name="profile" id="profile" class="sr-only" />
                  </label>
                </div>
                <div>
                  <!-- Client Name -->
                  <div id="companyName" class="text-xl font-semibold" contenteditable="false">XYZ Company</div>
                </div>
              </div>

              <!-- Client Website -->
              <div class="mt-4 flex items-center gap-2">
                <a target="_blank" id="clientWebsite" class="text-primary hover:underline"
                  contenteditable="false">Website</a>
              </div>
            </div>

            <!-- Additional Details Section -->
            <div class="border-t border-stroke dark:border-strokedark">
              <div class="p-4">
                <h4 class="text-title-md2 font-bold text-black dark:text-white mb-4">Details</h4>
                <table class="w-full mt-4 border-collapse">
                  <tbody>
                    <tr>
                      <td class="font-semibold text-bodydark dark:text-white/70">Location:</td>
                      <td id="companyLocation" contenteditable="false">123 Main St, Suite 400, City, Country</td>
                    </tr>
                    <tr>
                      <td class="font-semibold text-bodydark dark:text-white/70">Sector of Activity :</td>
                      <td id="companyIndustry" contenteditable="false">Technology</td>
                    </tr>
                    <tr>
                      <td class="font-semibold text-bodydark dark:text-white/70">Description:</td>
                      <td id="companyDescription" contenteditable="false">Leading tech company specializing in
                        innovative solutions.</td>
                    </tr>
                    <tr>
                      <td class="font-semibold text-bodydark dark:text-white/70">HQ Phone Number:</td>
                      <td id="companyPhone" contenteditable="false">(123) 456-7890</td>
                    </tr>
                    <tr>
                      <td class="font-semibold text-bodydark dark:text-white/70">URLs:</td>
                      <td id="companyURLs" contenteditable="tru">
                        <ul id="listUrls" class="list-disc pl-5 space-y-1">
                        </ul>
                      </td>
                    </tr>
                    <tr id="statusTab" class="hidden">
                      <td class="font-semibold text-bodydark dark:text-white/70 ">Status:</td>
                      <td>
                        <select id="statusEdit" 
                          class="w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-normal text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary">
                          <option value="prospect">Prospect</option>
                          <option value="client">Client</option>
                          <option value="partner">Partner</option>
                        </select>
                      </td>
                    </tr>
                    <tr id="engagementTab" class="hidden">
                      <td class="font-semibold text-bodydark dark:text-white/70">Engagement type:</td>
                      <td>
                        <select id="engagementTypeEdit" 
                          class="w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-normal text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary">
                          <option value="talent_outsourcing">Talent Outsourcing</option>
                          <option value="direct_employment">Direct Employment</option>
                        </select>
                      </td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
          <!-- Client Details End -->


          <!-- Lead Details Start -->
          <div x-show="!showJobs" class="bg-white dark:bg-boxdark border border-stroke rounded-lg shadow-sm">
            <div class="p-4">
              <div class="flex items-center justify-between mb-4">
                <h4 class="text-title-md2 font-bold text-black dark:text-white">Key Contact</h4>
                <!-- Add Lead Button -->
                <button onclick="toggleLeadForm()"
                  class="inline-flex items-center px-4 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition">
                  Add Contact
                </button>
              </div>
              <!-- Lead Form (Hidden by Default) -->
              <div id="leadFormContainer" style="display: none;" class="mt-6">
                <div
                  class="rounded-sm border border-stroke bg-white shadow-default dark:border-strokedark dark:bg-boxdark">
                  <div class="p-7">
                    <form id="leadForm" action="#" method="POST" onsubmit="saveLead(event)">
                      <!-- Lead First Name -->
                      <div class="mb-4">
                        <label class="mb-3 block text-sm font-medium text-black dark:text-white">Lead First Name <span
                            class="text-meta-1">*</span></label>
                        <input type="text" name="first_name" id="leadFirstName" placeholder="Enter lead first name"
                          class="w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-normal text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary" />
                      </div>
                      <!-- Lead Last Name -->
                      <div class="mb-4">
                        <label class="mb-3 block text-sm font-medium text-black dark:text-white">Lead Last Name <span
                            class="text-meta-1">*</span></label>
                        <input type="text" name="last_name" id="leadLastName" placeholder="Enter lead last name"
                          class="w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-normal text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary" />
                      </div>
                      <!-- Contact -->
                      <div class="mb-4">
                        <label class="mb-3 block text-sm font-medium text-black dark:text-white">Contact <span
                            class="text-meta-1">*</span></label>
                        <input type="email" name="email" id="leadEmail" placeholder="Enter contact email"
                          class="w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-normal text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary" />
                      </div>
                      <!-- Phone -->
                      <div class="mb-4">
                        <label class="mb-3 block text-sm font-medium text-black dark:text-white">Phone <span
                            class="text-meta-1">*</span></label>
                        <input type="tel" name="phone" id="leadPhone" placeholder="Enter phone number"
                          class="w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-normal text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary" />
                      </div>
                      <!-- LinkedIn -->
                      <div class="mb-4">
                        <label class="mb-3 block text-sm font-medium text-black dark:text-white">LinkedIn</label>
                        <input type="text" name="linkedIn" id="leadLinkedIn" placeholder="Enter LinkedIn profile"
                          class="w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-normal text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-form-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary" />
                      </div>
                      <!-- Notes -->
                      <div class="mb-4">
                        <label class="mb-3 block text-sm font-medium text-black dark:text-white">Notes</label>
                        <textarea name="notes" id="leadNotes" placeholder="Enter additional notes"
                          class="w-full rounded border-[1.5px] border-stroke bg-transparent px-5 py-3 font-normal text-black outline-none transition focus:border-primary active:border-primary disabled:cursor-default disabled:bg-whiter dark:border-strokedark dark:bg-form-input dark:text-white dark:focus:border-primary"
                          rows="4"></textarea>
                      </div>
                      <div class="flex justify-end gap-4.5 mt-6">
                        <button
                          class="flex justify-center rounded border border-stroke px-6 py-2 font-medium text-black hover:shadow-1 dark:border-strokedark dark:text-white"
                          type="reset" onclick="toggleLeadForm()">Cancel</button>
                        <button id="saveLead-btn"
                          class="flex justify-center rounded bg-primary px-6 py-2 font-medium text-white hover:bg-primary-dark"
                          type="submit">Save</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
              <!-- Lead List Container -->
              <div id="leadListContainer"  >
                <!-- Lead 1 -->

              </div>


            </div>
          </div>
          <!-- Lead Details End -->

          <!-- Job Details Start -->
          <div x-show="showJobs" class="w-full">
            <div class="p-4">
                <div class="flex items-center justify-between mb-6">
                    <h4 class="text-title-md2 font-bold text-black dark:text-white">Jobs Details</h4>
                </div>
                <div id="jobsContainer" class="bg-gray-100 w-full p-4 mb-6">

                    <!-- Les jobs seront injectés ici -->
                </div>
            </div>
        </div>
          <!-- Job Details End -->



          <!-- Content Grid End -->


      </main>
      <!-- Main Content End -->
    </div>
    <!-- ===== Content Area End ===== -->
  </div>
  <!-- ===== Page Wrapper End ===== -->
  <script src="js/profile-client.js"></script>
</body>

</html>